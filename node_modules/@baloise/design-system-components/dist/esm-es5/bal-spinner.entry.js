import{__awaiter,__generator}from"tslib";import{r as registerInstance,h,g as getElement,H as Host}from"./index-853c3f3f.js";import{l as raf,r as rIC}from"./helpers-08b28736.js";import{L as Logger}from"./log-01623e2c.js";import"./browser-9199b5e2.js";import"./icons.constant-35253412.js";var balSpinnerCss="bal-spinner,.bal-spinner{text-align:center;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-line-pack:center;align-content:center}bal-spinner svg,.bal-spinner svg{-webkit-transform:unset !important;transform:unset !important}";var __decorate=undefined&&undefined.__decorate||function(t,e,n,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)if(a=t[s])o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o;return r>3&&o&&Object.defineProperty(e,n,o),o};var Spinner=function(){function t(t){var e=this;registerInstance(this,t);this.animate=function(){return __awaiter(e,void 0,void 0,(function(){var t=this;return __generator(this,(function(e){switch(e.label){case 0:return[4,this.load()];case 1:e.sent();if(this.currentRaf!==undefined){cancelAnimationFrame(this.currentRaf)}if(this.shouldAnimate()){this.destroy();this.currentRaf=raf((function(){return __awaiter(t,void 0,void 0,(function(){return __generator(this,(function(t){if(this.animationFunction){this.animationFunction(this.el,this.getColor())}return[2]}))}))}))}return[2]}}))}))};this.destroy=function(){if(e.animationItem&&e.animationItem.destroy){e.animationItem.destroy()}e.el.innerHTML=""};this.shouldAnimate=function(){if(typeof window==="undefined"){return false}if(e.animationFunction===undefined){return false}return!e.deactivated};this.load=function(){return __awaiter(e,void 0,void 0,(function(){var t=this;return __generator(this,(function(e){return[2,new Promise((function(e,n){if(t.animationFunction){return e()}else{rIC((function(){return __awaiter(t,void 0,void 0,(function(){var t=this;return __generator(this,(function(i){import("./bal-spinner.animation-fadee2e2.js").then((function(n){t.animationFunction=n.animate;e()})).catch(n);return[2]}))}))}))}}))]}))}))};this.inverted=false;this.deactivated=false;this.color="blue";this.small=false}t.prototype.createLogger=function(t){this.log=t};t.prototype.deactivatedWatcher=function(t,e){if(t!==e){if(this.deactivated){this.destroy()}else{this.animate()}}};t.prototype.componentDidLoad=function(){this.animate()};t.prototype.disconnectedCallback=function(){if(this.el&&!this.el.isConnected){this.destroy()}};t.prototype.getColor=function(){return this.inverted||this.color==="white"?"#ffffff":"#151f6d"};t.prototype.render=function(){return h(Host,{role:"progressbar",style:{width:this.small?"32px":"64px"}})};Object.defineProperty(t.prototype,"el",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{deactivated:["deactivatedWatcher"]}},enumerable:false,configurable:true});return t}();__decorate([Logger("bal-spinner")],Spinner.prototype,"createLogger",null);Spinner.style={css:balSpinnerCss};export{Spinner as bal_spinner};